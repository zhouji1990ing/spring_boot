<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]--><!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
<head>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<title>人生可能就三个10000天</title>
<meta content="" name="description"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0" name="viewport"/>
<meta content="yes" name="mobile-web-app-capable"/>
<!-- Apple -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<!-- CSS -->
<link rel="stylesheet" href="<c:url value='/resources/css/normalize.css'/>" />
<link rel="stylesheet" href="<c:url value='/resources/css/main.css'/>" />
<link rel="stylesheet" href="<c:url value='/resources/css/count_10000.css?v=2'/>" />
<!-- JS -->
<script type="text/javascript" src="<c:url value='/resources/js/modernizr-2.6.2.min.js'/>"></script>
</head>
<body>
  <!--[if lt IE 7]>
  <p class="browsehappy">您的浏览器版本太低了……<a href="http://browsehappy.com/">点击这里</a>马上进行升级！</p>
  <![endif]-->
  <a class="logo fadeInDown clock" href="http://a.app.qq.com/o/simple.jsp?pkgname=com.zuimeia.suite.nicecountdown"><img alt="" class="logo-img" src="http://static.zuimeia.com/product/img/10000days/count10000.jpg"/></a> <div class="wrapper"><p class="tip-type-birthday fadeInDown delay-1">输入你的生日</p><div class="input-wrapper fadeInDown delay-2"><select id="year"><option disabled="" selected="" value="year">年</option><option value="2015">2015</option><option value="2014">2014</option><option value="2013">2013</option><option value="2012">2012</option><option value="2011">2011</option><option value="2010">2010</option><option value="2009">2009</option><option value="2008">2008</option><option value="2007">2007</option><option value="2006">2006</option><option value="2005">2005</option><option value="2004">2004</option><option value="2003">2003</option><option value="2002">2002</option><option value="2001">2001</option><option value="2000">2000</option><option value="1999">1999</option><option value="1998">1998</option><option value="1997">1997</option><option value="1996">1996</option><option value="1995">1995</option><option value="1994">1994</option><option value="1993">1993</option><option value="1992">1992</option><option value="1991">1991</option><option value="1990">1990</option><option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option><option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option></select><select id="month"><option disabled="" selected="" value="month">月</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select><select id="date"><option disabled="" selected="" value="date">日</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option></select></div><p class="tip-days fadeInDown delay-3">看看距离你人生的 10000 天<br/>还剩下多少天</p><div class="button ok fadeInDown delay-4">确定</div><div class="days-left-wrapper"><p class="days-left-text">距离你人生的第一个10000天</p><p class="days-left-count">还剩<span class="count-days">256</span>天</p><hr/><blockquote class="funny-words"></blockquote></div><div class="button share">想看看其他朋友的?</div></div><div class="dom-tip-share hide"><img alt="分享给大家" class="weixin_download_tip_arrow js-tip" height="112" src="images/weixin_download_tip_arrow.png" width="74"/><div class="download-tip js-tip"><p class="android-download-tip">点右上角，选择“<em>分享到朋友圈</em>”，叫上大家一起来数数吧！</p><p class="ios-download-tip">点右上角，选择“<em>分享到朋友圈</em>”，叫上大家一起来数数吧！</p></div><div class="tip-download black-cover fade-in js-tip"></div></div><div class="download-funny-tip wave">点我点我</div>
  <!-- JS -->
  <script type="text/javascript" src="<c:url value='/resources/js/zepto.min.js'/>"></script>
  <script type="text/javascript" src="<c:url value='/resources/js/event_analysis.js'/>"></script>

      <script>
      function randomIntFromInterval(min,max) {
        return Math.floor(Math.random()*(max-min+1)+min);
      }
      var random_num = randomIntFromInterval(0,4);

      var words = [
      '从今天起培养一个新的小习惯，生活就会开始改变',
      '世界还很大，现在就走吧',
      '从现在开始改变，在第 10000 天遇见全新的自己',
      '年轻真好木哈哈，去做最疯狂的梦吧',
      '现在努力实现目标，还来得及'
      ];
      var funny_word = words[random_num];
      $('.funny-words').text(funny_word);
      // UA
      var ua = navigator.userAgent.toLowerCase();

      var os = function() {
        var is_mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua), 
            is_ios = /iPod|iPhone|iPad/i.test(ua),
            is_android = /Android/i.test(ua),
            is_chrome = /Chrome/i.test(ua),
            is_safari = /Safari/i.test(ua),
            is_firefox = /Firefox/i.test(ua),
            is_ipad = /iPad/i.test(ua),
            is_tablet = /iPad/i.test(ua) || (is_firefox && /Tablet/i.test(ua)),
            is_iphone = /iPhone/i.test(ua) && !is_tablet,
            is_opera= /Opera Mini/i.test(ua),
            is_uc = /UCWEB|UCBrowser/i.test(ua),
            is_weixin = /MicroMessenger/i.test(ua);
            return {
              is_mobile: is_mobile,
              is_ios: is_ios,
              is_android: is_android,
              is_chrome: is_chrome,
              is_safari: is_safari,
              is_firefox: is_firefox,
              is_ipad: is_ipad,
              is_tablet: is_tablet,
              is_iphone: is_iphone,
              is_opera: is_opera,
              is_uc: is_uc,
              is_weixin: is_weixin
            };
      }();

      // 判断手势
      var gesture;
      if (os.is_mobile) {
        gesture = 'touchend';
      } else {
        gesture = 'click';
      }
      // 计算日期
      var d = document;

      var date_changed = false,
          year, month, date,
          $body = $('body'),
          $tip_type_birthday = $('.tip-type-birthday'),
          $tip_days = $('.tip-days'),
          $days_left_wrapper = $('.days-left-wrapper'),
          $days_left_text = $('.days-left-text'),
          $funny_words = $('.funny-words'),
          $ok = $('.ok'),
          $share = $('.share'),
          $count_days = $('.count-days'),
          $android_download_tip = $('.android-download-tip'),
          $ios_download_tip = $('.ios-download-tip'),
          $input_wrapper = $('.input-wrapper'),
          $download_funny_tip = $('.download-funny-tip'),
          dom_tip_share;

      var weixin_head = '';
      if (os.is_weixin) {
        weixin_head = 'http://mp.weixin.qq.com/mp/redirect?url=';
        // 微信提示
        if (os.is_ios) {
          $android_download_tip.addClass('hide');
        } else {
          $ios_download_tip.addClass('hide');
        }
        dom_tip_share = $('.dom-tip-share').html();
      }
      if (os.is_ios) {
        $('select').each(function (argument) {
          this.style.padding = '5px 8px';
        });
        d.getElementsByClassName('logo')[0].href = weixin_head + 'https://itunes.apple.com/cn/app/zui-days/id912078687?mt=8';
      }

      $body.on(gesture, '.ok', function (argument) {
        //event_tracker('Count10000days-Calculate');
        var year = $('#year').val(),
            month = $('#month').val() - 1,
            date = $('#date').val();
        $('#date').val(date);
        if (year != 'year' && month != 'month' && date != 'date') {
          if (date_changed == false) {
            // 改变布局
            $tip_type_birthday.hide();
            $tip_days.hide();
            $days_left_wrapper.addClass('popover delay-1');
            $ok.hide();
            $input_wrapper.hide();
            $share.show().addClass('fadeInDown delay-2');
            setTimeout(function (argument) {
              $download_funny_tip.show();
            }, 2000);
          }
          date_changed = true;

          // 计算日子
          birthday = new Date(year, month, date);
          var days_left = 10000-Math.floor((new Date() - birthday) / 86400000);
          if (days_left < 0 && days_left > -10000) {
            days_left = days_left + 10000;
            $days_left_text.text('距离你人生的第二个10000天');
          } else if (days_left > 10000) {
            days_left = '10000';
          }

          // 修改 title

          document.title = '距离我人生的10000天还有' + days_left + '天，来算算你的？';

          $count_days.text(days_left);

        }

      });


      // 下载 GA

      $body.on(gesture, '.logo', function (argument) {
        event_tracker('Count10000days-Logobutton');
        download_app();
      });
      $body.on(gesture, '.share', function (argument) {
        event_tracker('Count10000days-Sharebutton');
        $body.append(dom_tip_share);
      });
      $body.on(gesture, '.black-cover', function (e) {
        $('.js-tip').remove();
        e.preventDefault();
        return false;
      });
      

      // Toast
      var toast = function(message) {
        var rendered = '<div class="toast-wrapper moveDown">' + message + '</div>'
        $body.append(rendered);
        setTimeout(function (argument) {
          $('.toast-wrapper').remove();
        }, 3000);
      }

    </script><script>
      /*******************************
       
            Inspired by Mr.Think

       *******************************/

      (function _WXShare(img, width, height, desc, url) {
        //初始化参数
        var img = "http://static.zuimeia.com/product/img/10000days/count10000.jpg",
            width = 100,
            height = 100,
            desc = d.URL,
            url = document.location.href;
        //微信内置方法
        function _ShareFriend() {
          WeixinJSBridge.invoke('sendAppMessage', {
            'img_url': img,
            'img_width': width,
            'img_height': height,
            'link': url,
            'desc': desc,
          }, function(res) {
            _report('send_msg', res.err_msg);
          });
          event_tracker('Count10000-Share-Friends', source, '');
        }

        function _ShareTL() {
          WeixinJSBridge.invoke('shareTimeline', {
            'img_url': img,
            'img_width': width,
            'img_height': height,
            'link': url,
            'desc': desc,
          }, function(res) {
            _report('timeline', res.err_msg);
          });
          event_tracker('Count10000-Share-Moments', source, '');
        }

        function _ShareWB() {
            WeixinJSBridge.invoke('shareWeibo', {
              'content': desc,
              'url': url,
            }, function(res) {
              _report('weibo', res.err_msg);
            });
            event_tracker('Count10000-Share-Weibo', source, '');
          }
          // 当微信内置浏览器初始化后会触发WeixinJSBridgeReady事件。
        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
          // 发送给好友
          WeixinJSBridge.on('menu:share:appmessage', function(argv) {
            _ShareFriend();
          });

          // 分享到朋友圈
          WeixinJSBridge.on('menu:share:timeline', function(argv) {
            _ShareTL();
          });

          // 分享到微博
          WeixinJSBridge.on('menu:share:weibo', function(argv) {
            _ShareWB();
          });
        }, false);
      })();
    </script></body></html>